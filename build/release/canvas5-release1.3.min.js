var Canvas5={version:"release1.3",mouseX:0,mouseY:0,activeKeys:[],activeButtons:[],deg:Math.PI/180,currentScene:null,onloadMessage:function(){console.info("Canvas5 JavaScript Engine; version "+Canvas5.version+"; (c) 2016 Sergix");window.addEventListener("mousemove",Canvas5.updateMouse,!1);window.addEventListener("mousedown",Canvas5.mouseDown,!1);window.addEventListener("mouseup",Canvas5.mouseUp,!1);window.addEventListener("keydown",Canvas5.keyDown,!1);window.addEventListener("keyup",Canvas5.keyUp,
!1)},isKeyPressed:function(a){return-1<Canvas5.activeKeys.indexOf(a)?1:0},isButtonPressed:function(a){return-1<Canvas5.activeButtons.indexOf(a)?1:0},updateMouse:function(a){Canvas5.mouseX=a.pageX;Canvas5.mouseY=a.pageY},mouseDown:function(a){Canvas5.activeButtons.push(a.button)},mouseUp:function(a){a=Canvas5.activeButtons.indexOf(a.button);-1<a&&Canvas5.activeButtons.splice(a,1)},keyDown:function(a){Canvas5.activeKeys.push(a.keyCode)},keyUp:function(a){a=Canvas5.activeKeys.indexOf(a.keyCode);-1<a&&
Canvas5.activeKeys.splice(a,1)},distance:function(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b)},getKeyCode:function(a){switch(a){case "~":return 192;case "1":return 49;case "2":return 50;case "3":return 51;case "4":return 52;case "5":return 53;case "6":return 54;case "7":return 55;case "8":return 56;case "9":return 57;case "0":return 48;case "tab":return 9;case "caps lock":return 20;case "left shift":return 16;case "right shift":return 16;case "left ctrl":return 17;case "win":return 91;case "left alt":return 18;
case "space":return 32;case "q":return 81;case "w":return 87;case "e":return 69;case "r":return 82;case "t":return 84;case "y":return 89;case "u":return 85;case "i":return 73;case "o":return 79;case "p":return 80;case "a":return 65;case "s":return 83;case "d":return 68;case "f":return 70;case "g":return 71;case "h":return 72;case "j":return 74;case "k":return 75;case "l":return 76;case "z":return 90;case "x":return 88;case "c":return 67;case "v":return 86;case "b":return 66;case "n":return 78;case "m":return 77;
case "<":return 188;case ">":return 190;case "?":return 191;case ":":return 186;case "esc":return 27;case "f1":return 91;case "f2":return 91;case "f3":return 91;case "f4":return 91;case "f5":return 177;case "f6":return 179;case "f7":return 179;case "f8":return 176;case "f9":return 174;case "f10":return 175;case "f11":return 173;case "f12":return 173;case "prt sc":return 46;case "delete":return 46;case "-":return 189;case "+":return 187;case "backspace":return 8;case "{":return 219;case "}":return 221;
case "|":return 220;case '"':return 222;case "enter":return 13;case "right alt":return 18;case "list":return 93;case "right ctrl":return 17;case "left":return 37;case "up":return 38;case "down":return 40;case "right":return 39;default:return a}}};window.onload=Canvas5.onloadMessage;
function Scene(a){this.canvas=a||document.getElementById("CanvasGame");this.context=this.canvas.getContext("2d");this.width=this.canvas.width;this.height=this.canvas.height;this.sprites=[];this.actionList=[];this.menuList=[];this.changeColorList=[0,0,0,0];this.colorList=[null,null,null,null];this.background=this.imageData=null;this.backgroundColor="white";this.showInfo=!1}
Scene.prototype.modifyColors=function(a,b){var c=b||null;if(!a.r)return console.error("Color set must be of type RGBASet! {modifyColors(), "+a+"}"),0;null===c&&(c=[0,0,this.width,this.height]);this.changeColorList[0]=a.r;this.changeColorList[1]=a.g;this.changeColorList[2]=a.b;this.changeColorList[3]=a.a;this.imageData=this.context.getImageData(c[0],c[1],c[2],c[3]);200<this.imageData.width&&200<this.imageData.height&&console.warn("Pixel manipulation on large parts of the canvas can cause major framerate issues! {modifyColors(), null}");
var d,e,f,g,h,j,k;for(j=0;j<c[3];j++)for(k=0;k<c[2];k++)d=4*(k+j*this.imageData.width),e=this.imageData.data[d],f=this.imageData.data[d+1],g=this.imageData.data[d+2],h=this.imageData.data[d+3],e+=this.changeColorList[0],f+=this.changeColorList[1],g+=this.changeColorList[2],h+=this.changeColorList[3],255<e&&(e=255),0>e&&(e=0),255<f&&(f=255),0>f&&(f=0),255<g&&(g=255),0>g&&(g=0),255<h&&(h=255),0>h&&(h=0),this.colorList[0]=e,this.colorList[1]=f,this.colorList[2]=g,this.colorList[3]=h,this.imageData.data[d]=
e,this.imageData.data[d+1]=f,this.imageData.data[d+2]=g,this.imageData.data[d+3]=h;this.context.putImageData(this.imageData,c[0],c[1])};Scene.prototype.getColors=function(){return this.colorList};Scene.prototype.newAction=function(a,b){var c={};c.condition=a;b&&(c.action=b);this.actionList.push(c)};Scene.prototype.add=function(a){this.sprites.push(a)};Scene.prototype.addMenu=function(a){this.menuList.push(a)};
Scene.prototype.remove=function(a){a=this.sprites.indexOf(a);-1<a&&this.sprites.splice(a,1)};
Scene.prototype.update=function(){var a,b,c;for(a=0;a<this.sprites.length;a++)if(this.sprites[a].collide){null!==this.sprites[a].boundaries&&(0>this.sprites[a].x&&(this.sprites[a].x=0),this.sprites[a].x+this.sprites[a].width>this.sprites[a].boundaries.width&&(this.sprites[a].x=this.sprites[a].boundaries.width-this.sprites[a].width),0>this.sprites[a].y&&(this.sprites[a].y=0),this.sprites[a].y+this.sprites[a].height>this.sprites[a].boundaries.height&&(this.sprites[a].y=this.sprites[a].boundaries.height-
this.sprites[a].height));for(b=0;b<this.sprites.length;b++)if(!(this.sprites[a]===this.sprites[b]||a===b)){c=this.sprites[b];if(!c.collide)break;if(this.sprites[a].x<c.x+c.width&&this.sprites[a].x+this.sprites[a].width>c.x&&this.sprites[a].y<c.y+c.height&&this.sprites[a].y+this.sprites[a].height>c.y){if(0<this.sprites[a].vx){this.sprites[a].moveLeft=!1;if(!this.sprites[a].moveDown||!this.sprites[a].moveUp)continue;this.sprites[a].x=c.x-this.sprites[a].width}else this.sprites[a].moveLeft=!0;0>this.sprites[a].vx?
(this.sprites[a].moveRight=!1,this.sprites[a].x=c.x+c.width):this.sprites[a].moveRight=!0;0<this.sprites[a].vy?(this.sprites[a].moveDown=!1,this.sprites[a].y=c.y-this.sprites[a].height):this.sprites[a].moveDown=!0;0>this.sprites[a].vy?(this.sprites[a].moveUp=!1,this.sprites[a].y=c.y+c.height):this.sprites[a].moveUp=!0}else this.sprites[a].moveLeft=!0,this.sprites[a].moveRight=!0,this.sprites[a].moveDown=!0,this.sprites[a].moveUp=!0}}this.render()};
Scene.prototype.updateAsPlatformer=function(a){var b;for(b=0;b<this.sprites.length;b++)this.sprites[b].ay=a;this.update()};
Scene.prototype.render=function(){null!==this.background?this.context.drawImage(this.background.image,0,0,this.width,this.height):(this.context.fillStyle=this.backgroundColor,this.context.fillRect(0,0,this.width,this.height));for(i=0;i<this.sprites.length;i++)this.sprites[i].update(this.context);this.showInfo&&(this.context.font="13pt sans-serif",this.context.color="black",this.context.fillText("60 FPS; "+(this.sprites.length+1)+" objects",10,20));for(i=0;i<this.actionList.length;i++){var a=this.actionList[i].condition();
this.actionList[i].action&&a&&this.actionList[i].action()}for(i=0;i<this.menuList.length;i++)this.menuList[i].update(this.context)};function Vector(a,b){this.x=a;this.y=b}function Polygon(a){this.vectors=a;this.color=RGBSet(0,0,0);this.lineWidth=1;this.lineCap="butt";this.fill=!1;this.shadow=null;this.visible=!0}
Polygon.prototype.update=function(a){if("object"!==typeof this.vectors)return console.error("Argument to Polygon contstruct must be of type Array! {Polygon.update(), "+this.vectors+"}"),0;null!==this.shadow&&this.shadow.enable(a);this.visible&&this.draw(a)};
Polygon.prototype.draw=function(a){var b;a.fillStyle=this.color.getAsString();a.strokeStyle=this.color.getAsString();a.lineWidth=this.width;a.lineCap=this.lineJoin;a.beginPath();for(b=0;b<this.vectors.length-1;b++)a.moveTo(vectors[b].x,vectors[b].y),a.lineTo(vectors[b+1].x,vectors[b+1].y);this.fill?a.fill():a.stroke();a.closePath();null!==this.shadow&&this.shadow.disable(a)};function Line(a,b){this.vectors=[a,b];this.color=RGBSet(0,0,0);this.width=1;this.shadow=null;this.visible=!0}
Line.prototype.update=function(a){null!==this.shadow&&this.shadow.enable(a);this.visible&&this.draw(a)};Line.prototype.draw=function(a){a.strokeStyle=this.color.getAsString();a.lineWidth=this.width;a.beginPath();a.moveTo(vectors[0].x,vectors[0].y);a.lineTo(vectors[1].x,vectors[1].y);a.stroke();a.closePath();this.shadow&&this.shadow.disable(a)};function Curve(a,b){this.vectors=a;this.type=b||"quadratic";this.shadow=null;this.visible=!0}
Curve.prototype.update=function(a){if("quadratic"!==this.type&&"bezier"!==this.type)return console.error('Type attribute must be either "quadratic" or "bezier"! {Curve.update(), '+this.type+"}"),0;if(3!==this.vectors.length&&"quadratic"===this.type||4!==this.vectors.length&&"bezier"===this.type)return console.error("Vectors array is not correct length to draw curve! {Curve.update(), "+this.vectors+"}"),0;null!==this.shadow&&this.shadow.enable(a);this.visible&&this.draw(a)};
Curve.prototype.draw=function(a){a.beginPath();a.moveTo(this.vectors[0].x,this.vectors[0].y);"quadratic"===this.type?a.quadraticCurveTo(this.vectors[1].x,this.vectors[1].y,this.vectors[2].x,this.vectors[2].y):a.bezierCurveTo(this.vectors[1].x,this.vectors[1].y,this.vectors[2].x,this.vectors[2].y,this.vectors[3].x,this.vectors[3].y);a.stroke();a.closePath();null!==this.shadow&&this.shadow.disable(a)};
function Sprite(a){this.spriteSheet=a||new SpriteSheet(null,0,0);this.ay=this.ax=this.vy=this.vx=this.speed=this.y=this.x=0;this.width=this.spriteSheet.spriteWidth;this.height=this.spriteSheet.spriteHeight;this.boundaries=null;this.collide=!0;this.name=null;this.moveUp=this.moveDown=this.moveRight=this.moveLeft=!0;this.clicked=!1;this.shadow=null;this.visible=!0;this.rotate=0;this.scale=[0,0];this.onGround=!1;this.keybinds=[]}
Sprite.prototype.near=function(a,b){return Canvas5.distance(this.x,this.y,a.x,a.y)<=b?1:0};Sprite.prototype.setName=function(a){this.name=a};Sprite.prototype.setPosition=function(a,b){this.x=a;this.y=b};Sprite.prototype.setVelocity=function(a,b){this.vx=a;this.vy=b};Sprite.prototype.setAccel=function(a,b){this.ax=a;this.ay=b};Sprite.prototype.jump=function(a,b,c){if(!this.onGround)return 0;this.vy=-a;this.ay=b};
Sprite.prototype.update=function(a){this.scale===[0,0]&&(this.scale=[this.width,this.height]);0===this.width&&0===this.height&&(this.width=this.spriteSheet.images[0].image.width,this.height=this.spriteSheet.images[0].image.height);!this.moveLeft&&0<this.vx?this.vx=0:this.moveLeft=!0;!this.moveRight&&0>this.vx?this.vx=0:this.moveRight=!0;!this.moveDown&&0<this.vy?(this.onGround=!0,this.vy=0):(this.onGround=!1,this.moveDown=!0);!this.moveUp&&0>this.vy?this.vy=0:this.moveUp=!0;this.vx+=this.ax;this.vy+=
this.ay;this.x+=this.vx;this.y+=this.vy;null!==this.shadow&&this.shadow.enable(a);this.visible&&this.draw(a)};Sprite.prototype.transform=function(a,b){this.rotate=a;this.scale=b};
Sprite.prototype.draw=function(a){0!==this.rotate||0!==this.scale[0]||0!==this.scale[1]?(a.save(),a.rotate(this.rotate),a.scale(this.scale[0],this.scale[1]),this.spriteSheet.draw(a,new Vector(this.x,this.y)),a.restore()):this.spriteSheet.draw(a,new Vector(this.x,this.y));null!==this.name&&(this.name.x=this.x,this.name.y=this.y-25,this.name.draw(a));null!==this.shadow&&this.shadow.disable(a)};Sprite.prototype.addKeybind=function(a,b){this.keybinds.push({key:a,fn:b})};
Sprite.prototype.addBasicControls=function(a){this.speed=a;window.addEventListener("keydown",bind(this,this.onKeyDown),!1);window.addEventListener("keyup",bind(this,this.onKeyUp),!1)};Sprite.prototype.addPlatformerControls=function(a){this.speed=a;window.addEventListener("keydown",bind(this,this.onKeyDownPlatformer),!1);window.addEventListener("keyup",bind(this,this.onKeyUpPlatformer),!1)};
Sprite.prototype.addMouseListener=function(){window.addEventListener("mousedown",bind(this,this.onMouseDown),!1);window.addEventListener("mouseup",bind(this,this.onMouseUp),!1)};Sprite.prototype.onMouseDown=function(a){switch(a.button){case 0:Canvas5.mouseX>=this.x&&(Canvas5.mouseX<=this.x+this.width&&Canvas5.mouseY>=this.y&&Canvas5.mouseY<=this.y+this.width)&&(this.clicked=!0)}};Sprite.prototype.onMouseUp=function(){this.clicked=!1};
Sprite.prototype.onKeyDownPlatformer=function(a){switch(a.keyCode){case 37:this.vx=-this.speed;break;case 65:this.vx=-this.speed;break;case 40:this.vy=this.speed;break;case 83:this.vy=this.speed;break;case 39:this.vx=this.speed;break;case 68:this.vx=this.speed;break;case 32:this.jump(-400,600)}};
Sprite.prototype.onKeyUpPlatformer=function(a){switch(a.keyCode){case 38:this.vy=0;break;case 87:this.vy=0;break;case 37:this.vx=0;break;case 65:this.vx=0;break;case 40:this.vy=0;break;case 83:this.vy=0;break;case 39:this.vx=0;break;case 68:this.vx=0}for(a=0;a<this.keybinds.length;a++)this.isKeyPressed(this.keybinds[a].key)&&this.keybinds[a].fn()};
Sprite.prototype.onKeyDown=function(a){switch(a.keyCode){case 38:this.vy=-this.speed;break;case 87:this.vy=-this.speed;break;case 37:this.vx=-this.speed;break;case 65:this.vx=-this.speed;break;case 40:this.vy=this.speed;break;case 83:this.vy=this.speed;break;case 39:this.vx=this.speed;break;case 68:this.vx=this.speed}for(a=0;a<this.keybinds.length;a++)Canvas5.isKeyPressed(this.keybinds[a].key)&&this.keybinds[a].fn()};
Sprite.prototype.onKeyUp=function(a){switch(a.keyCode){case 38:this.vy=0;break;case 87:this.vy=0;break;case 37:this.vx=0;break;case 65:this.vx=0;break;case 40:this.vy=0;break;case 83:this.vy=0;break;case 39:this.vx=0;break;case 68:this.vx=0}};function GameMenu(){this.y=this.x=0;this.elements=[];this.collide=this.alwaysActive=!1;this.background=null;this.backgroundColor=new RGBSet(255,255,255);this.height=this.width=200;this.dragging=this.editMode=!1}GameMenu.prototype.add=function(a){this.elements.push(a)};
GameMenu.prototype.addMouseListener=function(){window.addEventListener("mousemove",bind(this,this.onMouseMove),!1);window.addEventListener("mousedown",bind(this,this.onMouseDown),!1);window.addEventListener("mouseup",bind(this,this.onMouseUp),!1)};GameMenu.prototype.onMouseMove=function(){!1!==this.dragging&&(this.dragging.x=Canvas5.mouseX,this.dragging.y=Canvas5.mouseY)};
GameMenu.prototype.onMouseDown=function(a){switch(a.button){case 0:for(a=0;a<this.elements.length;a++){if(void 0!==this.elements[a].font){Canvas5.mouseX>=this.elements[a].x&&(Canvas5.mouseX<=this.elements[a].x+100&&Canvas5.mouseY>=this.elements[a].y&&Canvas5.mouseY<=this.elements[a].y+100)&&(this.dragging=this.elements[a]);break}Canvas5.mouseX>=this.elements[a].x&&(Canvas5.mouseX<=this.elements[a].x+this.elements[a].width&&Canvas5.mouseY>=this.elements[a].y&&Canvas5.mouseY<=this.elements[a].y+this.elements[a].width)&&
(this.dragging=this.elements[a])}}};GameMenu.prototype.onMouseUp=function(){this.dragging=!1};GameMenu.prototype.update=function(a,b){this.editMode&&this.addMouseListener();!1!==this.dragging&&(this.dragging.x=Canvas5.mouseX,this.dragging.y=Canvas5.mouseY);(this.alwaysActive||b)&&this.draw(a)};GameMenu.prototype.active=function(a){a=a||Canvas5.currentScene;this.update(a.context,!0)};
GameMenu.prototype.draw=function(a){a.fillStyle=void 0!==this.backgroundColor.r?this.backgroundColor.getAsString():this.backgroundColor;null!==this.background?a.drawImage(this.background.image,this.x,this.y,this.width,this.height):a.fillRect(this.x,this.y,this.width,this.height);for(var b=0;b<this.elements.length;b++)this.elements[b].update(a),!1!==this.dragging&&(a.fillStyle="white",a.font="14pt sans-serif",a.fillText(this.elements[b].x+", "+this.elements[b].y,this.elements[b].x,this.elements[b].y-
30))};function Button(a,b){this.y=this.x=0;this.text=a;this.rect=b;this.clicked=!1;this.width=this.rect.width;this.height=this.rect.height;this.visible=!0}Button.prototype.addMouseListener=function(){window.addEventListener("mousedown",bind(this,this.onMouseDown),!1);window.addEventListener("mouseup",bind(this,this.onMouseUp),!1)};
Button.prototype.onMouseDown=function(a){switch(a.button){case 0:Canvas5.mouseX>=this.x&&(Canvas5.mouseX<=this.x+this.rect.width&&Canvas5.mouseY>=this.y&&Canvas5.mouseY<=this.y+this.rect.width)&&(this.clicked=!0)}};Button.prototype.onMouseUp=function(){this.clicked=!1};Button.prototype.setPosition=function(a,b){this.x=a;this.y=b};
Button.prototype.update=function(a){this.rect.draw(a);Canvas5.mouseX>=this.x&&(Canvas5.mouseX<=this.x+this.rect.width&&Canvas5.mouseY>=this.y&&Canvas5.mouseY<=this.y+this.rect.height)&&this.rect.draw(a,new RGBASet(this.rect.color.r+50,this.rect.color.g+50,this.rect.color.b+50,this.rect.color.a));this.rect.setPosition(this.x,this.y);this.text.x=this.rect.width/2+this.rect.x;this.text.y=this.rect.y+40;for(var b=0;b<this.text.text.length/2;b++)this.text.x-=14;this.visible&&this.draw(a)};
Button.prototype.draw=function(a){this.text.draw(a)};function Rect(a,b){this.vy=this.vx=this.y=this.x=0;this.width=a;this.height=b;this.border=this.color=new RGBASet(100,100,100,1);this.borderWidth=2;this.shadow=null;this.visible=!0;this.collide=!1}Rect.prototype.setPosition=function(a,b){this.x=a;this.y=b};Rect.prototype.update=function(a){this.x+=this.vx;this.y+=this.vy;null!==this.shadow&&this.shadow.enable(a);this.visible&&this.draw(a)};
Rect.prototype.draw=function(a,b){a.fillStyle=void 0!==b?b.getAsString():this.color.getAsString();a.strokeStyle=this.border.getAsString();a.fillRect(this.x,this.y,this.width,this.height);a.strokeRect(this.x,this.y,this.width,this.height);null!==this.shadow&&this.shadow.disable(a)};function Circle(a){this.vy=this.vx=this.y=this.x=0;this.radius=a;this.border=this.color="white";this.borderWidth=2;this.shadow=null;this.visible=!0}Circle.prototype.setPosition=function(a,b){this.x=a;this.y=b};
Circle.prototype.update=function(a){this.x+=this.vx;this.y+=this.vy;null!==this.shadow&&this.shadow.enable(a);this.visible&&this.draw(a)};Circle.prototype.draw=function(a){a.fillStyle=this.color;a.strokeStyle=this.border;a.lineWidth=this.borderWidth;a.beginPath();a.arc(this.x,this.y,this.radius,0,2*Math.PI,!0);a.closePath();a.fill();a.stroke();null!==this.shadow&&this.shadow.disable(a)};
function Client(a){this.url=a;this.server=new WebSocket(a);this.currentData=null;console.warn("Canvas5 WebSocket implementation is currently very limited and buggy!");this.server.onopen=this.event;this.server.onclose=this.event;this.server.onmessage=this.event;this.server.onerror=this.event}Client.prototype.event=function(a){this.currentData=a};Client.prototype.sendMessage=function(a){this.server.send(a)};Client.prototype.getMessage=function(){return this.currentData.data};
function LocalStorageSet(){this.keyList=[]}LocalStorageSet.prototype.newItem=function(a,b){localStorage.setItem(a,b);this.keyList.push(a)};LocalStorageSet.prototype.getItem=function(a){return localStorage.getItem(a)};LocalStorageSet.prototype.getAllItems=function(){var a=[],b;for(b=0;b<this.keyList.length;b++)a.push(localStorage.getItem(this.keyList[b]));return a};
LocalStorageSet.prototype.clear=function(){var a;for(a=0;a<this.keyList.length;a++)localStorage.removeItem(this.keyList[a]),this.keyList.splice(a,1)};function AudioElement(a){this.domElement=document.createElement("audio");this.src=a;this.domElement.setAttribute("src",this.src)}AudioElement.prototype.play=function(){this.domElement.play()};AudioElement.prototype.pause=function(){this.domElement.pause()};AudioElement.prototype.stop=function(){this.pause();this.setTime(0)};
AudioElement.prototype.setTime=function(a){this.domElement.currentTime=a};AudioElement.prototype.setVolume=function(a){this.domElement.volume=a};function MessageBox(a,b,c){this.x=b||0;this.y=c||0;this.text=a;this.font="12pt sans-serif";this.color=new RGBASet(100,100,100,1);this.shadow=null;this.alwaysActive=!1}MessageBox.prototype.setPosition=function(a,b){this.x=a;this.y=b};MessageBox.prototype.update=function(a){null!==this.shadow&&this.shadow.enable(a);!1!==this.alwaysActive&&this.draw(a)};
MessageBox.prototype.active=function(a){a=a||Canvas5.currentScene;this.draw(a.context)};MessageBox.prototype.draw=function(a){a.fillStyle=this.color.getAsString();a.font=this.font;a.fillText(this.text,this.x,this.y);null!==this.shadow&&this.shadow.disable(a)};function Dialogue(a){this.text=a;this.index=0}Dialogue.prototype.next=function(){this.index++;this.index>=this.text.length&&(this.index=0)};Dialogue.prototype.update=function(a){this.text[this.index].update(a)};
function GameImage(a){this.image=new Image;this.src=a;this.image.src=this.src}function SpriteSheet(a,b,c){this.image=a;this.spriteWidth=b;this.spriteHeight=c;this.frame=0;this.changeFrame=!0}SpriteSheet.prototype.draw=function(a,b){this.changeFrame&&this.frame++;this.frame>=this.image.image.width/this.spriteWidth&&(this.frame=0);a.drawImage(this.image.image,this.frame*this.spriteWidth,0,this.spriteWidth,this.spriteHeight,b.x,b.y,this.spriteWidth,this.spriteHeight)};
function RGBSet(a,b,c){this.r=a;this.g=b;this.b=c;this.a=1}RGBSet.prototype.getAsString=function(){return"rgb("+this.r+","+this.g+","+this.b+")"};function RGBASet(a,b,c,d){this.r=a;this.g=b;this.b=c;this.a=d}RGBASet.prototype.getAsString=function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"};function HSLSet(a,b,c){this.h=a;this.s=b;this.l=c;this.a=255}HSLSet.prototype.getAsString=function(){return"hsl("+this.r+","+this.g+","+this.b+","+(1<this.a?1:this.a)+")"};
function HSLASet(a,b,c,d){this.h=a;this.s=b;this.l=c;this.a=d}HSLASet.prototype.getAsString=function(){return"hsla("+this.r+","+this.g+","+this.b+","+(1<this.a?1:this.a)+")"};function Shadow(a,b){this.offsetX=a;this.offsetY=b;this.color=new RGBASet(0,0,0,0.75);this.blur=5;this.prototype=function(){}}Shadow.prototype.enable=function(a){a.shadowOffsetX=this.offsetX;a.shadowOffsetY=this.offsetY;a.shadowColor=this.color.getAsString();a.shadowBlur=this.blur};
Shadow.prototype.disable=function(a){a.shadowOffsetX=0;a.shadowOffsetY=0;a.color="rgba(0, 0, 0, 0)";a.shadowBlur=0};function bind(a,b){return function(){b.apply(a,arguments)}};
